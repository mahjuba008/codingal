;/*FB_PKG_DELIM*/

__d("MAWEncryptedBackupsInitializeBackupDeferred",["EBAPIQPLPoints","EBSMAPI","I64","LSAuthorityLevel","LSEncryptedBackupsOpStatus","LSIntEnum","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsDeviceRegistrationId","QPLUserFlow","ReQL","cr:17162","justknobx","promiseDone","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MWEncryptedBackupsFetchBackupIds").__setRef("MAWEncryptedBackupsInitializeBackupDeferred"),k=c("requireDeferred")("MWEncryptedBackupsInitializeBackup").__setRef("MAWEncryptedBackupsInitializeBackupDeferred"),l=c("justknobx")._("4054");function a(a){var b=a.onBackupCreationSuccess,e=a.onFailure,f=a.onStart,g=a.qplEventName,h=g===void 0?d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent:g,i=a.instanceKey;g=a.db;l?(f==null?void 0:f(),c("QPLUserFlow").addPoint(h,"SETUP_INITIALIZE_BACKUP_SPROC_START",{instanceKey:i}),c("promiseDone")(c("EBSMAPI").initializeBackup({instanceKey:i}),function(a){a.success?(c("QPLUserFlow").addPoint(h,"SETUP_INITIALIZE_BACKUP_SPROC_END",{instanceKey:i}),c("QPLUserFlow").addPoint(h,"SETUP_INITIALIZE_BACKUP_END",{instanceKey:i}),b==null?void 0:b()):(c("QPLUserFlow").markError(h,"SETUP_INITIALIZE_BACKUP_SPROC_FAILURE",{instanceKey:i}),e())},function(){c("QPLUserFlow").markError(h,"SETUP_INITIALIZE_BACKUP_SPROC_FAILURE",{instanceKey:i}),e()})):m({db:g,instanceKey:i,onBackupCreationSuccess:b,onFailure:e,onStart:f,qplEventName:h})}function m(a){var e=a.onBackupCreationSuccess,f=a.onFailure,g=a.onStart,l=a.qplEventName,m=l===void 0?d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent:l,n=a.instanceKey,o=a.db;k.onReady(function(a){var k=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId(),l=c("qpl")._(521478750,"2850");if(k==="")return;g==null?void 0:g();c("QPLUserFlow").start(l,{annotations:{"int":{instanceKey:n}},instanceKey:n});d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,l,d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_START,void 0,n);d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,l,d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_SPROC_START,void 0,n);c("QPLUserFlow").addPoint(m,"SETUP_INITIALIZE_BACKUP_SPROC_START",{instanceKey:n});c("promiseDone")(a.initializeBackupStoredProcedure(o,k),function(a){a=a[0];if((h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsOpStatus").FAILURE))){d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,l,d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_SPROC_FAIL,void 0,n);c("QPLUserFlow").markError(m,"SETUP_INITIALIZE_BACKUP_SPROC_FAILURE",{instanceKey:n});return f()}c("QPLUserFlow").addPoint(m,"SETUP_INITIALIZE_BACKUP_SPROC_END",{instanceKey:n});d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,l,d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_SPROC_END,void 0,n);var g=o.tables.secure_encrypted_backups_client_state.subscribe(function(a,k){if(k.operation==="delete")return;c("promiseDone")(d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(o.tables.secure_encrypted_backups_client_state)),function(a){if(a!=null){a=a[0].authorityLevel;(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(g(),c("QPLUserFlow").addPoint(m,"SETUP_INITIALIZE_BACKUP_END",{instanceKey:n}),d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,l,d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_END,void 0,n),j.onReady(function(a){a=a.encryptedBackupsFetchBackupIds;d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,l,d("EBAPIQPLPoints").EBBackupInitQPLPoints.FETCH_BACKUP_IDS_START,void 0,n);c("promiseDone")(a(o)["finally"](function(){void (b("cr:17162")==null?void 0:b("cr:17162").trackAddingDevice({}));d("EBAPIQPLPoints").ebAPIAddQPLPoint(!1,l,d("EBAPIQPLPoints").EBBackupInitQPLPoints.FETCH_BACKUP_IDS_END,void 0,n);d("EBAPIQPLPoints").ebAPIEndSuccess(!1,l,n);return e==null?void 0:e()}))}));return}d("EBAPIQPLPoints").ebAPIEndFailure(!1,l,"empty_client_state",n);c("QPLUserFlow").markError(m,"SETUP_INITIALIZE_BACKUP_SPROC_FAILURE",{instanceKey:n});g();return f()})})},function(){d("EBAPIQPLPoints").ebAPIEndFailure(!1,l,"sproc_promise_rejection",n),f()})})}g.initializeBackupDeferred=a}),98);
__d("MWEBConnections4AndroidIcon.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");b=j.forwardRef(a);function a(a,b){var e=d("react-compiler-runtime").c(7),f=a.alt,g=a.size;a=a.xstyle;g=g===void 0?"large":g;var i;e[0]!==g?(i=g==="large"?k?h("398892"):h("398891"):h("398080"),e[0]=g,e[1]=i):i=e[1];g=i;e[2]!==f||e[3]!==b||e[4]!==g||e[5]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:f,ref:b,source:g,xstyle:a}),e[2]=f,e[3]=b,e[4]=g,e[5]=a,e[6]=i):i=e[6];return i}e=b;g["default"]=e}),98);
__d("MWEBOnboardingDismissOnboardingUpsellsInRelay",["CometRelay","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.environment,e=a.upsellsToDismiss;d("CometRelay").commitLocalUpdate(b,function(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("labyrinth_web").mustfix("[labyrinth][onboarding] A viewer record does not exist when dismissing softblocks.");return}switch(e){case"softblocks":a.setValue(!0,"is_eb_onboarding_softblocks_dismissed");break;case"all":a.setValue(!0,"is_eb_onboarding_upsells_dismissed");break}})}g.dismissOnboardingUpsellsInRelayStore=a}),98);
__d("MWEBOnboardingHardblockConfirmPINDialogStep.react",["fbt","MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react","MWChatEncryptedBackupsQPLEvents","MWEBConnections4AndroidIcon.react","MWEBPinCodeSize","MWXColumn.react","MWXColumnItem.react","MWXText.react","gkx","promiseDone","react","react-compiler-runtime","useEncryptedBackupsQplImpressionRef","useMWChatEncryptedBackupsNumericCode","useMWChatEncryptedBackupsOnPinCodeSetup","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="eb-onboarding-insert-pin-dialog-step",l=c("gkx")("23219");function a(a){var b=d("react-compiler-runtime").c(24),e=a.enteredPinCode,f=a.onClose,g=a.onReturn,i=a.setIsMismatchError;a=c("useEncryptedBackupsQplImpressionRef")(d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent,"ONBOARDING_EB_PIN_CONFIRM_STEP_IMPRESSION");var m;b[0]!==f?(m={backupExists:!1,onStart:f},b[0]=f,b[1]=m):m=b[1];var n=c("useMWChatEncryptedBackupsOnPinCodeSetup")(m);b[2]!==g||b[3]!==i?(f=function(){i(!0),g()},b[2]=g,b[3]=i,b[4]=f):f=b[4];b[5]!==e||b[6]!==f?(m={onCodeMismatch:f,previouslyInsertedCode:e},b[5]=e,b[6]=f,b[7]=m):m=b[7];b[8]!==n?(e=function(a){c("promiseDone")(n(a,d("MWChatEncryptedBackupsQPLEvents").backupSetupQplEvent))},b[8]=n,b[9]=e):e=b[9];b[10]!==m||b[11]!==e?(f={checkPreviouslyInsertedCode:m,focusRegionId:k,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onComplete:e},b[10]=m,b[11]=e,b[12]=f):f=b[12];m=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(f);e=m[0];b[13]!==a?(f=d("xplatToDOMRef").xplatToDOMRef(a),b[13]=a,b[14]=f):f=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("MWXColumnItem.react"),{paddingTop:20,children:j.jsx(c("MWEBConnections4AndroidIcon.react"),{})}),b[15]=m):m=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWXColumnItem.react"),{paddingTop:8,children:j.jsx(c("MWXText.react"),{align:"center",type:"headlineEmphasized2",children:h._(/*BTDS*/"__JHASH__W_GWxxYDFas__JHASH__")})}),b[16]=a):a=b[16];var o;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx(c("MWXColumnItem.react"),{align:"center",paddingTop:16,children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body3",children:h._(/*BTDS*/"__JHASH__uby5jrnVZdh__JHASH__")})}),b[17]=o):o=b[17];var p;b[18]!==e?(p=j.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:j.jsx(c("MWChatEncryptedBackupsPinCodeConfirmStepContentWrapper.react"),babelHelpers["extends"]({isMessenger:l},e,{inputSize:"small"}))}),b[18]=e,b[19]=p):p=b[19];b[20]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWXColumnItem.react"),{paddingTop:20}),b[20]=e):e=b[20];b[21]!==p||b[22]!==f?(m=j.jsxs(c("MWXColumn.react"),{align:"center",paddingHorizontal:16,paddingVertical:16,ref:f,children:[m,a,o,p,e]}),b[21]=p,b[22]=f,b[23]=m):m=b[23];return m}g["default"]=a}),226);
__d("MessengerKeyFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M24.5 12a6.494 6.494 0 0 1-2.976 5.463c-.313.202-.524.538-.524.911v.61a1 1 0 0 1-.42.815l-1.117.794a.5.5 0 0 0 0 .814l1.116.794a1 1 0 0 1 .421.815v.968a1 1 0 0 1-.42.815l-1.117.794a.5.5 0 0 0 0 .814l1.116.794a1 1 0 0 1 .421.815v.07a1 1 0 0 1-.293.707l-1.414 1.414a1 1 0 0 1-.707.293h-1.172a1 1 0 0 1-.707-.293l-1.414-1.414a1 1 0 0 1-.293-.707v-9.712c0-.372-.211-.709-.524-.911A6.5 6.5 0 1 1 24.5 12zm-6.5-.5A1.75 1.75 0 1 0 18 8a1.75 1.75 0 0 0 0 3.5z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);